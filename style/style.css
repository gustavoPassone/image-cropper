@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-family: "Inter", sans-serif;
  }
}

/* --- Layout Principal --- */
#main-container,
#upload-step,
#edit-step,
#preview-step,
#result-step {
  height: 100%;
  width: 100%;
}

/* --- ETAPA 1: UPLOAD --- */
#drop-zone.drag-over {
  @apply border-[#2F81F7] bg-[#1C2128];
}

/* --- ETAPA 2: EDI√á√ÉO --- */
#edit-step {
  overflow: hidden; /* Garante que os controles n√£o saiam da tela */
}

#canvas-wrapper {
  position: relative;
}

#edit-canvas {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

#loupe-canvas {
  position: absolute;
  display: none;
  pointer-events: none;
}

/* --- ETAPA 2.5: PDF PREVIEW --- */
#thumbnails-container {
  scrollbar-width: thin;
  scrollbar-color: #30363d #161b22;
}

.thumbnail-item {
  @apply relative flex flex-col items-center gap-2 cursor-pointer p-2 rounded-md border-2 border-transparent transition-all duration-200;
  transition: transform 0.2s ease-in-out; /* Adicionado para anima√ß√£o suave */
}
.thumbnail-item.dragging {
  @apply opacity-80 shadow-2xl;
  transform: scale(1.05); /* Efeito de "eleva√ß√£o" */
}

.thumbnail-item:hover {
  @apply bg-[#21262D] border-[#30363D];
}
.thumbnail-item:hover .thumbnail-actions {
  @apply opacity-100;
}

.thumbnail-canvas-wrapper {
  @apply relative w-full bg-[#010409] rounded-sm overflow-hidden flex items-center justify-center; /* Garante tamanho uniforme */
  aspect-ratio: 1 / 1.414; /* A4-like aspect ratio */
}

.thumbnail-actions {
  @apply absolute top-1.5 right-1.5 z-10 flex flex-col gap-1.5 opacity-0 transition-opacity duration-200;
}

.thumbnail-action-btn {
  @apply bg-black/50 text-white rounded p-1.5 backdrop-blur-sm hover:bg-black/80;
}
.thumbnail-action-btn:last-child {
  @apply hover:text-red-400;
}

.thumbnail-item.edited {
  border-color: #2f81f7;
  position: relative;
}

.thumbnail-item.edited::after {
  content: "‚úî";
  position: absolute;
  top: -0.5rem;
  right: -0.5rem;
  background-color: #2f81f7;
  color: white;
  width: 1.5rem;
  height: 1.5rem;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: bold;
  border: 2px solid #161b22;
}

.thumbnail-item canvas {
  @apply max-w-full max-h-full object-contain shadow-md transition-transform duration-300; /* Garante que a imagem se ajuste sem distorcer */
}

.thumbnail-item p {
  @apply text-xs text-[#8B949E] font-medium;
}

/* --- ETAPA 3: RESULTADO --- */
.result-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 1.5rem; /* Espa√ßo entre a imagem e os controles */
  align-items: stretch; /* Alinha os itens para terem a mesma altura */
  height: 100%;
}

#result-canvas-wrapper {
  /* A altura agora √© controlada pelo 'align-items: stretch' da grade pai. */
}

#result-canvas {
  cursor: grab;
}

#result-canvas:active {
  cursor: grabbing;
}

#result-canvas.cleanup-active {
  cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' style='font-size: 24px;'><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'>üñåÔ∏è</text></svg>")
      16 16,
    crosshair;
}

/* Custom Range Slider */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: #30363d;
  border-radius: 5px;
  outline: none;
  opacity: 0.9;
  transition: opacity 0.2s;
}

input[type="range"]:hover {
  opacity: 1;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  background: #c9d1d9;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid #2f81f7;
}

input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  background: #c9d1d9;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid #2f81f7;
}

/* --- Media Queries --- */
@media (max-width: 1024px) {
  .result-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto; /* Canvas no topo, controles embaixo */
    height: auto;
    gap: 2rem;
  }
  #result-canvas-wrapper {
    min-height: 300px;
    max-height: 50vh; /* Limita a altura em telas menores */
  }
  #result-controls {
    flex-direction: column;
    gap: 1.5rem;
  }
}
